<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>typing_sample</title>

    <script language="JavaScript">
      var canvas;
      var context;
      //画面に表示する文字列のオブジェクト群
      var characterList= new Array();
      //画面に表示する図形のオブジェクト群
      var graphicList= new Array();

      onload = function(){
        init();
        draw();
      }

      function init(){
        canvas = document.getElementById("main_Canvas");
        canvas.addEventListener("mousedown", mouseDownHandler, false);
        canvas.width  = 1000;
        canvas.height = 600;
        context = canvas.getContext('2d');
        charNumber = 0;
      }

      function draw(){
        //タイトル
        characterList.push = (new character("#00000","20pt Osaka","ソー打",(canvas.width/2)-(100/2),50,100,20));
        //外枠描画
        graphicList.push = (new Graphic(0,0,canvas.width,canvas.height));
        //ボタンサイズ
        this.buttonheight = 50;
        this.buttonwidth = 150;
        //ボタン描画
        graphicList.push = (new Graphic((canvas.width/2)-buttonwidth-30,(canvas.height)/2+10,buttonwidth,buttonheight));
        characterList.push = (new character("#00000","20pt Osaka","button1",(canvas.width/2)-buttonwidth,(canvas.height)/2+40,buttonwidth,buttonheight));
      }

      //文字を配置するメソッド
      function character(_color,_font,_text,_x,_y,_width,_height){
        this.text = _text;
        this.x = _x;
        this.y = _y;
        this.width = _width;
        this.height = _height;
        this.color = _color;
        context.fillStyle = _color;
        context.font = _font;
        //文字を描画
        context.fillText(this.text,this.x,this.y,this.width,this.height);            
      }

      //図形を配置するメソッド
      function Graphic(_x,_y,_width,_height){
      this.x = _x;
      this.y = _y;
      this.width = _width;
      this.height = _height;
      //色は黒
      context.strokeStyle = 'rgb(0,0,0)';
      context.strokeRect(this.x,this.y,this.width,this.height);
      }

      //マウスがクリックされた時
      function mouseDownHandler(e) {
        var mouseX;
        var mouseY;
        var rect = e.target.getBoundingClientRect();
        mouseX =  Math.floor(e.clientX - rect.left);
        mouseY =  Math.floor(e.clientY - rect.top);
        if(mouseX >= (canvas.width/2)-buttonwidth-30 && mouseX <= (canvas.width/2)-30) {
          if( mouseY >= (canvas.height)/2+10 && mouseY <= (canvas.height)/2+60){
            console.log("button1");
          }
        }
      }
    </script>
    <body>
      <canvas id="main_Canvas" ></canvas>
    </body>
  </html>

